!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ag-grid-community/all-modules"),require("@angular/material/button"),require("@angular/material/icon"),require("@angular/material/checkbox"),require("@angular/forms"),require("@ngx-translate/core"),require("@angular/material/dialog"),require("@angular/common"),require("@angular/material/menu"),require("@ag-grid-community/angular"),require("@angular/common/http"),require("@angular/platform-browser/animations"),require("@angular/router"),require("@sitmun/frontend-core"),require("@angular/common/locales/ca"),require("@angular/common/locales/es"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/chips"),require("@angular/material/stepper"),require("@angular/material/datepicker"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/core"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@angular/material/form-field"),require("@ngx-translate/http-loader"),require("rxjs"),require("@angular/cdk/collections")):"function"==typeof define&&define.amd?define("@sitmun/frontend-gui",["exports","@angular/core","@ag-grid-community/all-modules","@angular/material/button","@angular/material/icon","@angular/material/checkbox","@angular/forms","@ngx-translate/core","@angular/material/dialog","@angular/common","@angular/material/menu","@ag-grid-community/angular","@angular/common/http","@angular/platform-browser/animations","@angular/router","@sitmun/frontend-core","@angular/common/locales/ca","@angular/common/locales/es","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button-toggle","@angular/material/card","@angular/material/chips","@angular/material/stepper","@angular/material/datepicker","@angular/material/divider","@angular/material/expansion","@angular/material/grid-list","@angular/material/input","@angular/material/list","@angular/material/core","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slider","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/sort","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@angular/material/form-field","@ngx-translate/http-loader","rxjs","@angular/cdk/collections"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sitmun=e.sitmun||{},e.sitmun["frontend-gui"]={}),e.ng.core,e.allModules,e.ng.material.button,e.ng.material.icon,e.ng.material.checkbox,e.ng.forms,e.i2$1,e.ng.material.dialog,e.ng.common,e.ng.material.menu,e.i5,e.ng.common.http,e.ng.platformBrowser.animations,e.ng.router,e.frontendCore,e.ng.common.locales.ca,e.ng.common.locales.es,e.ng.cdk.a11y,e.ng.cdk.dragDrop,e.ng.cdk.portal,e.ng.cdk.scrolling,e.ng.cdk.stepper,e.ng.cdk.table,e.ng.cdk.tree,e.ng.material.autocomplete,e.ng.material.badge,e.ng.material.bottomSheet,e.ng.material.buttonToggle,e.ng.material.card,e.ng.material.chips,e.ng.material.stepper,e.ng.material.datepicker,e.ng.material.divider,e.ng.material.expansion,e.ng.material.gridList,e.ng.material.input,e.ng.material.list,e.ng.material.core,e.ng.material.paginator,e.ng.material.progressBar,e.ng.material.progressSpinner,e.ng.material.radio,e.ng.material.select,e.ng.material.sidenav,e.ng.material.slider,e.ng.material.slideToggle,e.ng.material.snackBar,e.ng.material.sort,e.ng.material.table,e.ng.material.tabs,e.ng.material.toolbar,e.ng.material.tooltip,e.ng.material.tree,e.ng.material.formField,e.httpLoader,e.rxjs,e.ng.cdk.collections)}(this,(function(e,t,n,a,r,i,o,l,d,s,u,c,p,g,m,h,f,v,C,b,M,y,x,S,w,k,E,N,A,D,I,R,B,O,F,T,P,_,G,V,q,L,j,H,$,U,J,z,W,Q,K,X,Y,Z,ee,te,ne,ae){"use strict";function re(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ie=re(f),oe=re(v);Object.create;function le(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}Object.create;var se=function(){function e(){}return e.prototype.agInit=function(e){this.params=e},e.prototype.refresh=function(e){return!0},e.prototype.btnClickedHandler=function(e){this.params.clicked(this.params.value)},e.prototype.getParams=function(){return this.params},e.prototype.ngOnDestroy=function(){},e}();se.ɵfac=function(e){return new(e||se)},se.ɵcmp=t.ɵɵdefineComponent({type:se,selectors:[["app-btn-edit-rendered"]],decls:3,vars:0,consts:[["mat-mini-fab","","type","button",1,"buttonEdit",3,"click"],["fontSet","material-icons-round",1,"iconEdit"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"button",0),t.ɵɵlistener("click",(function(e){return n.btnClickedHandler(e)})),t.ɵɵelementStart(1,"mat-icon",1),t.ɵɵtext(2," edit "),t.ɵɵelementEnd(),t.ɵɵelementEnd())},directives:[a.MatButton,r.MatIcon],styles:[".buttonEdit[_ngcontent-%COMP%]{background-color:#ddd;box-shadow:none;color:#000;height:20px;margin-top:3px;width:20px}.iconEdit[_ngcontent-%COMP%]{font-size:13px;margin-left:-2px;margin-top:-10px}"]});var ue=function(){function e(){}return e.prototype.agInit=function(e){this.params=e},e.prototype.refresh=function(e){return this.params=e,!0},e.prototype.invokeParentMethod=function(){this.params.context.componentParent.methodFromParent("Row: "+this.params.node.rowIndex+", Col: "+this.params.colDef.headerName)},e.prototype.btnCheckedHandler=function(e){var t=!e.target.firstElementChild.checked,n=this.params.column.colId;this.params.value=t,this.params.api.undoRedoService.isFilling=!0,this.params.node.setDataValue(n,t)},e.prototype.getParams=function(){return this.params},e.prototype.ngOnDestroy=function(){},e}();ue.ɵfac=function(e){return new(e||ue)},ue.ɵcmp=t.ɵɵdefineComponent({type:ue,selectors:[["app-btn-checkbox-rendered"]],decls:1,vars:2,consts:[[3,"value","checked","click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"mat-checkbox",0),t.ɵɵlistener("click",(function(e){return n.btnCheckedHandler(e)})),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("value",n.params.value)("checked",n.params.value)},directives:[i.MatCheckbox],styles:[""]});var ce=["input"],pe=function(){function e(){this.text=""}return e.prototype.agInit=function(e){this.params=e,this.valueGetter=e.filterParams.valueGetter,this.params.suppressFilterButton=!0},e.prototype.isFilterActive=function(){return null!=this.text&&""!==this.text},e.prototype.doesFilterPass=function(e){var t=this;return this.text.toLowerCase().split(" ").every((function(n){return t.valueGetter(e.node).toString().toLowerCase().indexOf(n)>=0}))},e.prototype.getModel=function(){return{value:this.text}},e.prototype.setModel=function(e){this.text=e?e.value:""},e.prototype.onChange=function(e){this.params.parentFilterInstance((function(t){t.onFloatingFilterChanged("contains",e)}))},e.prototype.onParentModelChanged=function(e){this.currentValue=e?e.filter:0},e}();pe.ɵfac=function(e){return new(e||pe)},pe.ɵcmp=t.ɵɵdefineComponent({type:pe,selectors:[["app-btn-checkbox-filter"]],viewQuery:function(e,n){var a;(1&e&&t.ɵɵviewQuery(ce,!0,t.ViewContainerRef),2&e)&&(t.ɵɵqueryRefresh(a=t.ɵɵloadQuery())&&(n.input=a.first))},hostAttrs:[1,"hostClass"],decls:11,vars:9,consts:[[3,"change"],["filterSelect",""],["value",""],["value","true"],["value","false"]],template:function(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"select",0,1),t.ɵɵlistener("change",(function(){t.ɵɵrestoreView(a);var e=t.ɵɵreference(1);return n.onChange(e.value)})),t.ɵɵelementStart(2,"option",2),t.ɵɵtext(3),t.ɵɵpipe(4,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"option",3),t.ɵɵtext(6),t.ɵɵpipe(7,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"option",4),t.ɵɵtext(9),t.ɵɵpipe(10,"translate"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,3,"selectAll")),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(7,5,"enabled")),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(10,7,"disabled")))},directives:[o.NgSelectOption,o.ɵangular_packages_forms_forms_x],pipes:[l.TranslatePipe],styles:[".hostClass[_ngcontent-%COMP%]{width:100%}"]});var ge=function(){function e(e){this.dialogRef=e}return e.prototype.ngOnInit=function(){},e.prototype.doAccept=function(){this.dialogRef.close({event:"Accept"})},e.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},e}();function me(e,n){if(1&e&&t.ɵɵelement(0,"span",17),2&e){var a=t.ɵɵnextContext();t.ɵɵproperty("translate",a.title)}}function he(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",18),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().deleteChanges()})),t.ɵɵpipe(1,"translate"),t.ɵɵelementStart(2,"mat-icon",19),t.ɵɵtext(3," close "),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,2,"cancel")),t.ɵɵproperty("disabled",r.changeCounter<=0)}}function fe(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",20),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().undo()})),t.ɵɵpipe(1,"translate"),t.ɵɵelementStart(2,"mat-icon",19),t.ɵɵtext(3," undo "),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,2,"undo")),t.ɵɵproperty("disabled",r.changeCounter<=0)}}function ve(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",21),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().redo()})),t.ɵɵpipe(1,"translate"),t.ɵɵelementStart(2,"mat-icon",19),t.ɵɵtext(3," redo "),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,2,"redo")),t.ɵɵproperty("disabled",r.redoCounter<=0)}}function Ce(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",22),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().applyChanges()})),t.ɵɵpipe(1,"translate"),t.ɵɵelementStart(2,"mat-icon",19),t.ɵɵtext(3," check "),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,2,"accept")),t.ɵɵproperty("disabled",r.changeCounter<=0)}}function be(e,n){1&e&&t.ɵɵelement(0,"label",17),2&e&&t.ɵɵproperty("translate","search")}function Me(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"input",23),t.ɵɵlistener("keyup",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().quickSearch()}))("ngModelChange",(function(e){return t.ɵɵrestoreView(a),t.ɵɵnextContext().searchValue=e})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.searchValue)}}function ye(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",24),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().removeData()})),t.ɵɵelementStart(1,"mat-icon",19),t.ɵɵtext(2," delete "),t.ɵɵelementEnd(),t.ɵɵelement(3,"span",17),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("translate","remove"))}function xe(e,n){if(1&e&&(t.ɵɵelementStart(0,"button",25),t.ɵɵelement(1,"span",17),t.ɵɵelementStart(2,"mat-icon",19),t.ɵɵtext(3," keyboard_arrow_down "),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){t.ɵɵnextContext();var a=t.ɵɵreference(12);t.ɵɵproperty("matMenuTriggerFor",a),t.ɵɵadvance(1),t.ɵɵproperty("translate","actions")}}function Se(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",26),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().exportData()})),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"export")," "))}function we(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",26),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().onDuplicateButtonClicked()})),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"duplicate"),""))}function ke(e,n){1&e&&(t.ɵɵelementStart(0,"button",27),t.ɵɵtext(1),t.ɵɵpipe(2,"translate"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"search/replace"),""))}function Ee(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",28),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().newData()})),t.ɵɵelementStart(1,"mat-icon",19),t.ɵɵtext(2," add_circle_outline "),t.ɵɵelementEnd(),t.ɵɵelement(3,"span",17),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("translate","new"))}function Ne(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",28),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(a),t.ɵɵnextContext().onAddButtonClicked()})),t.ɵɵelementStart(1,"mat-icon",19),t.ɵɵtext(2," add_circle_outline "),t.ɵɵelementEnd(),t.ɵɵelement(3,"span",17),t.ɵɵelementEnd()}2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("translate","add"))}ge.ɵfac=function(e){return new(e||ge)(t.ɵɵdirectiveInject(d.MatDialogRef))},ge.ɵcmp=t.ɵɵdefineComponent({type:ge,selectors:[["app-dialog-message"]],decls:12,vars:8,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"h5",0),t.ɵɵtext(1),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mat-dialog-content",1),t.ɵɵelementStart(3,"p"),t.ɵɵtext(4),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"mat-dialog-actions",2),t.ɵɵelementStart(6,"button",3),t.ɵɵlistener("click",(function(){return n.closeDialog()})),t.ɵɵtext(7),t.ɵɵpipe(8,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"button",4),t.ɵɵlistener("click",(function(){return n.doAccept()})),t.ɵɵtext(10),t.ɵɵpipe(11,"translate"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate(n.title),t.ɵɵadvance(3),t.ɵɵtextInterpolate1(" ",n.message," "),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(8,4,"cancel")),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(11,6,"accept")))},directives:[d.MatDialogTitle,d.MatDialogContent,d.MatDialogActions,a.MatButton],pipes:[l.TranslatePipe],styles:[""]});var Ae=function(){function e(e,a){var r=this;this.dialog=e,this.translate=a,this.modules=n.AllCommunityModules,this.statusColumn=!1,this.changesMap=new Map,this.modificationChange=!1,this.undoNoChanges=!1,this.translate=a,this.frameworkComponents={btnEditRendererComponent:se,btnCheckboxRendererComponent:ue,btnCheckboxFilterComponent:pe},this.remove=new t.EventEmitter,this.new=new t.EventEmitter,this.add=new t.EventEmitter,this.sendChanges=new t.EventEmitter,this.getSelectedRows=new t.EventEmitter,this.duplicate=new t.EventEmitter,this.getAllRows=new t.EventEmitter,this.changeCounter=0,this.previousChangeCounter=0,this.redoCounter=0,this.gridOptions={defaultColDef:{sortable:!0,flex:1,filter:!0,editable:!this.nonEditable,cellStyle:{backgroundColor:"#FFFFFF"},suppressMenu:!0,resizable:!0},columnTypes:{dateColumn:{filter:"agDateColumnFilter",filterParams:{comparator:function(e,t){var n=new Date(t),a=new Date(e);return n.getTime()<a.getTime()?-1:n.getTime()>a.getTime()?1:0}},suppressMenu:!0}},rowSelection:"multiple",singleClickEdit:!0,localeTextFunc:function(e,t){var n=r.translate.instant(e);return n===e?t:n}}}return e.prototype.ngOnInit=function(){var e=this;this.eventRefreshSubscription&&(this._eventRefreshSubscription=this.eventRefreshSubscription.subscribe((function(){e.changesMap.clear(),e.changeCounter=0,e.previousChangeCounter=0,e.redoCounter=0,e.getElements()}))),this.eventGetSelectedRowsSubscription&&(this._eventGetSelectedRowsSubscription=this.eventGetSelectedRowsSubscription.subscribe((function(){e.emitSelectedRows()}))),this.eventGetAllRowsSubscription&&(this._eventGetAllRowsSubscription=this.eventGetAllRowsSubscription.subscribe((function(){e.emitAllRows()}))),this.eventSaveAgGridStateSubscription&&(this._eventSaveAgGridStateSubscription=this.eventSaveAgGridStateSubscription.subscribe((function(){e.saveAgGridState()}))),this.eventAddItemsSubscription&&this.eventAddItemsSubscription.subscribe((function(t){e.addItems(t)}))},e.prototype.firstDataRendered=function(){if(null!=localStorage.agGridState){var e=JSON.parse(localStorage.agGridState);null!=e.idAgGrid&&e.idAgGrid==this.id?(this.gridApi.setFilterModel(e.filterState),this.gridColumnApi.setColumnState(e.colState),this.gridApi.setSortModel(e.sortState),this.searchValue=e.valueSearchGeneric,this.quickSearch(),this.removeAgGridState()):null!=this.id&&this.removeAgGridState()}},e.prototype.onGridReady=function(e){var t,n;this.singleSelection&&(this.gridOptions.rowSelection="single"),this.params=e,this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.getElements(),console.log(this.columnDefs);try{for(var a=le(this.columnDefs),r=a.next();!r.done;r=a.next()){"status"===r.value.field&&(console.log("status column true"),this.statusColumn=!0)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.prototype.emitSelectedRows=function(){var e=this.gridApi.getSelectedNodes().map((function(e){return e.data}));this.getSelectedRows.emit(e)},e.prototype.emitAllRows=function(){var e=[];this.gridApi.forEachNode((function(t){return e.push(t.data)})),this.getAllRows.emit(e)},e.prototype.saveAgGridState=function(){var e={idAgGrid:this.id,colState:this.gridColumnApi.getColumnState(),filterState:this.gridApi.getFilterModel(),sortState:this.gridApi.getSortModel(),valueSearchGeneric:this.searchValue};localStorage.setItem("agGridState",JSON.stringify(e))},e.prototype.removeAgGridState=function(){localStorage.removeItem("agGridState")},e.prototype.getColumnKeysAndHeaders=function(e){var t=[];return 0==this.columnDefs.length?"":(this.gridOptions.columnApi.getAllDisplayedColumns().forEach((function(n){""!==n.userProvidedColDef.headerName&&(e.push(n.userProvidedColDef.field),t.push(n.userProvidedColDef.headerName))})),t.join(","))},e.prototype.exportData=function(){var e=[],t={onlySelected:!0,columnKeys:e,customHeader:this.getColumnKeysAndHeaders(e),skipHeader:!0};this.gridApi.exportDataAsCsv(t)},e.prototype.quickSearch=function(){this.gridApi.setQuickFilter(this.searchValue)},e.prototype.getElements=function(){var e=this;this.getAll().subscribe((function(t){e.rowData=t,e.gridApi.setRowData(e.rowData),e.gridApi.sizeColumnsToFit(),console.log(e.rowData)}))},e.prototype.addItems=function(e){var t=this;console.log(e);var n=[];e.forEach((function(e){null==e.id||null==t.rowData.find((function(t){return t.id===e.id}))?(t.statusColumn&&(e.status="Pending creation"),n.push(e),t.rowData.push(e)):console.log("Item with the ID "+e.id+" already exists")})),this.gridApi.updateRowData({add:n}),console.log(this.columnDefs)},e.prototype.removeData=function(){var e,t;this.gridApi.stopEditing(!1);var n=this.gridApi.getSelectedNodes(),a=n.map((function(e){return e.data}));if(this.remove.emit(a),this.statusColumn){var r=n.map((function(e){return e.id}));try{for(var i=le(r),o=i.next();!o.done;o=i.next()){var l=o.value;this.gridApi.getRowNode(l).data.status="Deleted"}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this.gridOptions.api.refreshCells()}this.gridOptions.api.deselectAll()},e.prototype.newData=function(){this.gridApi.stopEditing(!1),this.new.emit(-1)},e.prototype.onAddButtonClicked=function(){this.gridApi.stopEditing(!1),this.add.emit(-1)},e.prototype.onDuplicateButtonClicked=function(){var e=this;if(this.gridApi.stopEditing(!1),console.log(this.changeCounter),this.changeCounter>0){var t=this.dialog.open(ge);t.componentInstance.title="Caution",t.componentInstance.message="If you duplicate rows without apply changes, your modifications will be overwritted, do you want to continue?",t.afterClosed().subscribe((function(t){if(t&&"Accept"===t.event){var n=e.gridApi.getSelectedNodes().map((function(e){return e.data}));e.duplicate.emit(n)}}))}else{var n=this.gridApi.getSelectedNodes().map((function(e){return e.data}));this.duplicate.emit(n)}},e.prototype.applyChanges=function(){var e,t,n=[];this.gridApi.stopEditing(!1);try{for(var a=le(this.changesMap.keys()),r=a.next();!r.done;r=a.next()){var i=r.value;n.push(this.gridApi.getRowNode(i).data)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this.sendChanges.emit(n),this.changesMap.clear(),this.changeCounter=0,this.previousChangeCounter=0,this.redoCounter=0,this.params.colDef.cellStyle={backgroundColor:"#FFFFFF"},this.gridApi.redrawRows()},e.prototype.deleteChanges=function(){for(this.gridApi.stopEditing(!1);this.changeCounter>0;)this.undo();this.changesMap.clear(),this.redoCounter=0},e.prototype.onFilterModified=function(){this.deleteChanges()},e.prototype.undo=function(){this.gridApi.stopEditing(!1),this.gridApi.undoCellEditing(),this.changeCounter-=1,this.redoCounter+=1},e.prototype.redo=function(){this.gridApi.stopEditing(!1),this.gridApi.redoCellEditing(),this.changeCounter+=1,this.redoCounter-=1},e.prototype.onCellEditingStopped=function(e){this.modificationChange&&(this.changeCounter++,this.redoCounter=0,this.onCellValueChanged(e),this.modificationChange=!1)},e.prototype.onCellValueChanged=function(e){if(console.log("value Change"),this.params=e,this.changeCounter>this.previousChangeCounter){if(e.oldValue!==e.value&&(null!=e.oldValue||""!==e.value)){if(this.changesMap.has(e.node.id))if(this.changesMap.get(e.node.id).has(e.colDef.field)){var t=this.changesMap.get(e.node.id).get(e.colDef.field);this.changesMap.get(e.node.id).set(e.colDef.field,t+1)}else this.changesMap.get(e.node.id).set(e.colDef.field,1);else{var n=new Map;n.set(e.colDef.field,1),this.changesMap.set(e.node.id,n),this.statusColumn&&"Pending creation"!==this.gridApi.getRowNode(e.node.id).data.status&&(this.gridApi.getRowNode(e.node.id).data.status="Modified")}this.paintCells(e,this.changesMap),this.previousChangeCounter++}}else if(this.changeCounter<this.previousChangeCounter){t=-1;if(this.changesMap.has(e.node.id)&&(t=this.changesMap.get(e.node.id).get(e.colDef.field)),1===t)if(this.changesMap.get(e.node.id).delete(e.colDef.field),0===this.changesMap.get(e.node.id).size){this.changesMap.delete(e.node.id);var a=this.gridApi.getDisplayedRowAtIndex(e.rowIndex);this.statusColumn&&"Pending creation"!==this.gridApi.getRowNode(e.node.id).data.status&&(this.gridApi.getRowNode(e.node.id).data.status=""),this.gridApi.redrawRows({rowNodes:[a]})}else this.paintCells(e,this.changesMap);else t>1&&(this.changesMap.get(e.node.id).set(e.colDef.field,t-1),this.paintCells(e,this.changesMap));this.previousChangeCounter--}else if(null!=e.oldValue||""!==e.value){var r=void 0;if(r=null==e.value?"":e.value.toString(),null!=e.oldValue&&null!=e.oldValue&&e.oldValue.toString()!==r.toString()||(null==e.oldValue||null==e.oldValue)&&null!=r){if(this.modificationChange=!0,"btnCheckboxRendererComponent"==e.colDef.cellRenderer){var i={cellValueChanges:this.gridApi.undoRedoService.cellValueChanges};this.gridApi.undoRedoService.pushActionsToUndoStack(i),this.gridApi.undoRedoService.isFilling=!1,this.onCellEditingStopped(e)}}else this.modificationWithoutChanges(e)}else this.modificationWithoutChanges(e)},e.prototype.modificationWithoutChanges=function(e){this.changesMap.has(e.node.id)?this.undoNoChanges?this.undoNoChanges=!1:(this.gridApi.undoCellEditing(),this.undoNoChanges=!0,this.paintCells(e,this.changesMap)):this.undoNoChanges?this.undoNoChanges=!1:(this.gridApi.undoCellEditing(),this.undoNoChanges=!0)},e.prototype.getColumnIndexByColId=function(e,t){return e.getAllColumns().findIndex((function(e){return e.getColId()===t}))},e.prototype.paintCells=function(e,t){var n=this.gridApi.getDisplayedRowAtIndex(e.rowIndex);this.changeCellStyleColumns(e,t,"#E8F1DE"),this.gridApi.redrawRows({rowNodes:[n]}),this.changeCellStyleColumns(e,t,"#FFFFFF")},e.prototype.changeCellStyleColumns=function(e,t,n){var a,r;try{for(var i=le(t.get(e.node.id).keys()),o=i.next();!o.done;o=i.next()){var l=o.value,d=this.getColumnIndexByColId(this.gridColumnApi,l);this.gridColumnApi.columnController.gridColumns[d].colDef.cellStyle={backgroundColor:n}}}catch(e){a={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}},e}();Ae.ɵfac=function(e){return new(e||Ae)(t.ɵɵdirectiveInject(d.MatDialog),t.ɵɵdirectiveInject(l.TranslateService))},Ae.ɵcmp=t.ɵɵdefineComponent({type:Ae,selectors:[["app-data-grid"]],inputs:{eventRefreshSubscription:"eventRefreshSubscription",eventGetSelectedRowsSubscription:"eventGetSelectedRowsSubscription",eventGetAllRowsSubscription:"eventGetAllRowsSubscription",eventSaveAgGridStateSubscription:"eventSaveAgGridStateSubscription",eventAddItemsSubscription:"eventAddItemsSubscription",frameworkComponents:"frameworkComponents",columnDefs:"columnDefs",getAll:"getAll",discardChangesButton:"discardChangesButton",id:"id",undoButton:"undoButton",redoButton:"redoButton",applyChangesButton:"applyChangesButton",deleteButton:"deleteButton",newButton:"newButton",actionButton:"actionButton",addButton:"addButton",globalSearch:"globalSearch",themeGrid:"themeGrid",singleSelection:"singleSelection",nonEditable:"nonEditable",title:"title",hideExportButton:"hideExportButton",hideDuplicateButton:"hideDuplicateButton",hideSearchReplaceButton:"hideSearchReplaceButton"},outputs:{remove:"remove",new:"new",add:"add",sendChanges:"sendChanges",duplicate:"duplicate",getSelectedRows:"getSelectedRows",getAllRows:"getAllRows",getAgGridState:"getAgGridState"},decls:21,vars:27,consts:[["id","grup1",1,"editDivBtns"],[3,"translate",4,"ngIf"],["mat-mini-fab","","class","editBtn","id","deleteChangesButton","type","button",3,"title","disabled","click",4,"ngIf"],["mat-mini-fab","","class","editBtn","id","undo",3,"title","disabled","click",4,"ngIf"],["mat-mini-fab","","class","editBtn","id","redo",3,"title","disabled","click",4,"ngIf"],["mat-mini-fab","","class","editBtn","id","applyChangesButton",3,"title","disabled","click",4,"ngIf"],["id","grup2",1,"actionsDivBtns"],["type","text","class","searchGenericInput","placeholder","","ml-2","",3,"ngModel","keyup","ngModelChange",4,"ngIf"],["mat-stroked-button","","id","deleteButton",3,"click",4,"ngIf"],["mat-stroked-button","","id","actionButton",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",4,"ngIf"],["mat-stroked-button","","id","newButton",3,"click",4,"ngIf"],[1,"row",2,"height","100%"],["id","myGrid",2,"width","100%","height","100%"],["rowSelection","multiple","multiSortKey","key",2,"width","100%","height","100%",3,"floatingFilter","rowData","columnDefs","gridOptions","animateRows","pagination","modules","undoRedoCellEditing","undoRedoCellEditingLimit","suppressRowClickSelection","frameworkComponents","filterModified","cellEditingStopped","cellValueChanged","gridReady","firstDataRendered"],[3,"translate"],["mat-mini-fab","","id","deleteChangesButton","type","button",1,"editBtn",3,"title","disabled","click"],["fontSet","material-icons-round"],["mat-mini-fab","","id","undo",1,"editBtn",3,"title","disabled","click"],["mat-mini-fab","","id","redo",1,"editBtn",3,"title","disabled","click"],["mat-mini-fab","","id","applyChangesButton",1,"editBtn",3,"title","disabled","click"],["type","text","placeholder","","ml-2","",1,"searchGenericInput",3,"ngModel","keyup","ngModelChange"],["mat-stroked-button","","id","deleteButton",3,"click"],["mat-stroked-button","","id","actionButton",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-stroked-button","","id","newButton",3,"click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,me,1,1,"span",1),t.ɵɵtemplate(2,he,4,4,"button",2),t.ɵɵtemplate(3,fe,4,4,"button",3),t.ɵɵtemplate(4,ve,4,4,"button",4),t.ɵɵtemplate(5,Ce,4,4,"button",5),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",6),t.ɵɵtemplate(7,be,1,1,"label",1),t.ɵɵtemplate(8,Me,1,1,"input",7),t.ɵɵtemplate(9,ye,4,1,"button",8),t.ɵɵtemplate(10,xe,4,2,"button",9),t.ɵɵelementStart(11,"mat-menu",null,10),t.ɵɵtemplate(13,Se,3,3,"button",11),t.ɵɵtemplate(14,we,3,3,"button",11),t.ɵɵtemplate(15,ke,3,3,"button",12),t.ɵɵelementEnd(),t.ɵɵtemplate(16,Ee,4,1,"button",13),t.ɵɵtemplate(17,Ne,4,1,"button",13),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",14),t.ɵɵelementStart(19,"div",15),t.ɵɵelementStart(20,"ag-grid-angular",16),t.ɵɵlistener("filterModified",(function(){return n.onFilterModified()}))("cellEditingStopped",(function(e){return n.onCellEditingStopped(e)}))("cellValueChanged",(function(e){return n.onCellValueChanged(e)}))("gridReady",(function(e){return n.onGridReady(e)}))("firstDataRendered",(function(){return n.firstDataRendered()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.title),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.discardChangesButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.undoButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.redoButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.applyChangesButton),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.globalSearch),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.globalSearch),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.deleteButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.actionButton),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",!n.hideExportButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.hideDuplicateButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.hideSearchReplaceButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.newButton),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.addButton),t.ɵɵadvance(3),t.ɵɵclassMap(n.themeGrid),t.ɵɵproperty("floatingFilter",!0)("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("animateRows",!0)("pagination",!1)("modules",n.modules)("undoRedoCellEditing",!0)("undoRedoCellEditingLimit",200)("suppressRowClickSelection",!0)("frameworkComponents",n.frameworkComponents))},directives:[s.NgIf,u._MatMenu,c.AgGridAngular,l.TranslateDirective,a.MatButton,r.MatIcon,o.DefaultValueAccessor,o.NgControlStatus,o.NgModel,u.MatMenuTrigger,u.MatMenuItem],pipes:[l.TranslatePipe],styles:["input[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;margin:5px 5px 5px 10px}#newButton[_ngcontent-%COMP%]{background:#68a225 0 0 no-repeat padding-box;color:#fff;margin-left:3px}#actionButton[_ngcontent-%COMP%], #deleteButton[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;margin-left:3px}#actionButton[_ngcontent-%COMP%]{text-align:center!important}#applyChangesButton[_ngcontent-%COMP%]{background:#68a225 0 0 no-repeat padding-box;color:#fff!important;margin-left:3px}#applyChangesButton[disabled][_ngcontent-%COMP%]{background:#83976c 0 0 no-repeat padding-box}#redo[_ngcontent-%COMP%]{background:#ff9300;color:#fff!important;margin-left:3px}#redo[disabled][_ngcontent-%COMP%]{background:#ffc97f;margin-left:3px}#undo[_ngcontent-%COMP%]{background:#ff9300;color:#fff!important;margin-left:3px}#undo[disabled][_ngcontent-%COMP%]{background:#ffc97f;margin-left:3px}#deleteChangesButton[_ngcontent-%COMP%]{background:#df3133;color:#fff!important}#deleteChangesButton[disabled][_ngcontent-%COMP%]{background:#da8c8e;color:#fff!important}.editDivBtns[_ngcontent-%COMP%]{height:30px!important;line-height:30px!important;margin-left:10px;text-align:start;width:130px}.actionsDivBtns[_ngcontent-%COMP%]{height:60px;text-align:end;width:calc(100% - 140px)}.actionsDivBtns[_ngcontent-%COMP%], .editDivBtns[_ngcontent-%COMP%]{display:inline-block!important}.actionsDivBtns[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{padding:5px 20px!important}.editDivBtns[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{display:inherit!important;padding:inherit!important}.editDivBtns[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{bottom:5px;height:30px!important;position:relative}.editDivBtns[_ngcontent-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{height:30px;width:30px}.actionsDivBtns[_ngcontent-%COMP%]   .searchGenericInput[_ngcontent-%COMP%]{height:45px!important;width:45%!important}.ag-body-viewport.ag-layout-normal[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#eee}​[_ngcontent-%COMP%]   .ag-body-viewport.ag-layout-normal[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{height:2em;width:2em}.ag-body-viewport.ag-layout-normal[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-button{background:#ccc}.ag-body-viewport.ag-layout-normal[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#888}"]});var De=function(){};De.ɵmod=t.ɵɵdefineNgModule({type:De}),De.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||De)},imports:[C.A11yModule,x.CdkStepperModule,S.CdkTableModule,w.CdkTreeModule,b.DragDropModule,k.MatAutocompleteModule,E.MatBadgeModule,N.MatBottomSheetModule,a.MatButtonModule,A.MatButtonToggleModule,D.MatCardModule,i.MatCheckboxModule,I.MatChipsModule,R.MatStepperModule,B.MatDatepickerModule,d.MatDialogModule,O.MatDividerModule,F.MatExpansionModule,T.MatGridListModule,r.MatIconModule,P.MatInputModule,_.MatListModule,u.MatMenuModule,G.MatNativeDateModule,V.MatPaginatorModule,q.MatProgressBarModule,L.MatProgressSpinnerModule,j.MatRadioModule,G.MatRippleModule,H.MatSelectModule,$.MatSidenavModule,U.MatSliderModule,J.MatSlideToggleModule,z.MatSnackBarModule,W.MatSortModule,Q.MatTableModule,K.MatTabsModule,X.MatToolbarModule,Y.MatTooltipModule,Z.MatTreeModule,M.PortalModule,y.ScrollingModule,ee.MatFormFieldModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(De,{exports:[C.A11yModule,x.CdkStepperModule,S.CdkTableModule,w.CdkTreeModule,b.DragDropModule,k.MatAutocompleteModule,E.MatBadgeModule,N.MatBottomSheetModule,a.MatButtonModule,A.MatButtonToggleModule,D.MatCardModule,i.MatCheckboxModule,I.MatChipsModule,R.MatStepperModule,B.MatDatepickerModule,d.MatDialogModule,O.MatDividerModule,F.MatExpansionModule,T.MatGridListModule,r.MatIconModule,P.MatInputModule,_.MatListModule,u.MatMenuModule,G.MatNativeDateModule,V.MatPaginatorModule,q.MatProgressBarModule,L.MatProgressSpinnerModule,j.MatRadioModule,G.MatRippleModule,H.MatSelectModule,$.MatSidenavModule,U.MatSliderModule,J.MatSlideToggleModule,z.MatSnackBarModule,W.MatSortModule,Q.MatTableModule,K.MatTabsModule,X.MatToolbarModule,Y.MatTooltipModule,Z.MatTreeModule,M.PortalModule,y.ScrollingModule,ee.MatFormFieldModule]});var Ie=function(e){return{"margin-top":e}};function Re(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",6),t.ɵɵelementStart(1,"app-data-grid",7),t.ɵɵlistener("getSelectedRows",(function(e){return t.ɵɵrestoreView(a),t.ɵɵnextContext().joinRowsReceived(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index,o=t.ɵɵnextContext();t.ɵɵproperty("ngStyle",t.ɵɵpureFunction1(9,Ie,i>0?"100px":"0px")),t.ɵɵadvance(1),t.ɵɵproperty("columnDefs",o.columnDefsTable[i])("themeGrid",o.themeGrid)("getAll",r)("globalSearch",!0)("singleSelection",o.singleSelectionTable[i])("title",o.titlesTable[i])("nonEditable",o.nonEditable)("eventGetSelectedRowsSubscription",o.getAllRows.asObservable())}}var Be=function(){function e(e){this.dialogRef=e,this.getAllRows=new ne.Subject,this.allRowsReceived=[],this.joinTables=new t.EventEmitter,this.tablesReceivedCounter=0}return e.prototype.ngOnInit=function(){var e=this;this.addButtonClickedSubscription&&(this._addButtonClickedSubscription=this.addButtonClickedSubscription.subscribe((function(){e.getAllSelectedRows()})))},e.prototype.getAllSelectedRows=function(){this.getAllRows.next(!0)},e.prototype.joinRowsReceived=function(e){this.allRowsReceived.push(e),this.tablesReceivedCounter++,this.tablesReceivedCounter===this.getAllsTable.length&&(this.doAdd(this.allRowsReceived),console.log(this.allRowsReceived))},e.prototype.doAdd=function(e){this.dialogRef.close({event:"Add",data:e})},e.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},e}();function Oe(e,n){1&e&&t.ɵɵelementContainer(0)}Be.ɵfac=function(e){return new(e||Be)(t.ɵɵdirectiveInject(d.MatDialogRef))},Be.ɵcmp=t.ɵɵdefineComponent({type:Be,selectors:[["app-dialog-grid"]],outputs:{joinTables:"joinTables"},decls:11,vars:8,consts:[["mat-dialog-title",""],[1,"dialogConent"],["class","appDialogDataGridDiv",3,"ngStyle",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"],[1,"appDialogDataGridDiv",3,"ngStyle"],[3,"columnDefs","themeGrid","getAll","globalSearch","singleSelection","title","nonEditable","eventGetSelectedRowsSubscription","getSelectedRows"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"h5",0),t.ɵɵtext(1),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mat-dialog-content",1),t.ɵɵtemplate(3,Re,2,11,"div",2),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",3),t.ɵɵelementStart(5,"button",4),t.ɵɵlistener("click",(function(){return n.closeDialog()})),t.ɵɵtext(6),t.ɵɵpipe(7,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"button",5),t.ɵɵlistener("click",(function(){return n.getAllSelectedRows()})),t.ɵɵtext(9),t.ɵɵpipe(10,"translate"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate(n.title),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",n.getAllsTable),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(7,4,"cancel")),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(10,6,"add")))},directives:[d.MatDialogTitle,d.MatDialogContent,s.NgForOf,d.MatDialogActions,a.MatButton,s.NgStyle,Ae],pipes:[l.TranslatePipe],styles:[".dialogConent[_ngcontent-%COMP%]{height:100%;margin:inherit!important;max-height:60vh!important;overflow:auto;padding:inherit!important;width:100%}"]});var Fe=function(){function e(e){this.dialogRef=e}return e.prototype.ngOnInit=function(){},e.prototype.doAdd=function(){this.dialogRef.close({event:"Add"})},e.prototype.closeDialog=function(){this.dialogRef.close({event:"Cancel"})},e}();Fe.ɵfac=function(e){return new(e||Fe)(t.ɵɵdirectiveInject(d.MatDialogRef))},Fe.ɵcmp=t.ɵɵdefineComponent({type:Fe,selectors:[["app-dialog-form"]],decls:11,vars:8,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngTemplateOutlet"],["align","end"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"h5",0),t.ɵɵtext(1),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"mat-dialog-content",1),t.ɵɵtemplate(3,Oe,1,0,"ng-container",2),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-dialog-actions",3),t.ɵɵelementStart(5,"button",4),t.ɵɵlistener("click",(function(){return n.closeDialog()})),t.ɵɵtext(6),t.ɵɵpipe(7,"translate"),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"button",5),t.ɵɵlistener("click",(function(){return n.doAdd()})),t.ɵɵtext(9),t.ɵɵpipe(10,"translate"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate(n.title),t.ɵɵadvance(2),t.ɵɵproperty("ngTemplateOutlet",n.HTMLReceived),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(7,4,"Cancel")),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(10,6,"Accept")))},directives:[d.MatDialogTitle,d.MatDialogContent,s.NgTemplateOutlet,d.MatDialogActions,a.MatButton],pipes:[l.TranslatePipe],styles:[""]});var Te=["emptyItem"];function Pe(e,n){if(1&e&&(t.ɵɵelementStart(0,"mat-icon",9),t.ɵɵtext(1," folder "),t.ɵɵelementEnd()),2&e){var a=t.ɵɵnextContext().$implicit;t.ɵɵattribute("aria-label",a.type+"icon")}}function _e(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"newFolder")})),t.ɵɵelementStart(1,"mat-icon"),t.ɵɵtext(2,"create_new_folder"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}function Ge(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"newNode")})),t.ɵɵelementStart(1,"mat-icon"),t.ɵɵtext(2,"playlist_add"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}var Ve=function(e,t,n){return{"drop-above":e,"drop-below":t,"drop-center":n}};function qe(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mat-tree-node",4),t.ɵɵlistener("dragstart",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDragStart(e,r)}))("dragover",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDragOver(e,r)}))("drop",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDrop(e,r)}))("dragend",(function(e){return t.ɵɵrestoreView(a),t.ɵɵnextContext().handleDragEnd(e)})),t.ɵɵelement(1,"button",5),t.ɵɵtemplate(2,Pe,2,1,"mat-icon",6),t.ɵɵtext(3),t.ɵɵtemplate(4,_e,3,0,"button",7),t.ɵɵtemplate(5,Ge,3,0,"button",7),t.ɵɵelementStart(6,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=n.$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"delete")})),t.ɵɵelementStart(7,"mat-icon"),t.ɵɵtext(8,"delete"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=n.$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"edit")})),t.ɵɵelementStart(10,"mat-icon"),t.ɵɵtext(11,"edit"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction3(5,Ve,"above"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r,"below"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r,"center"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf","folder"===r.type),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",r.name," "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","folder"===r.type),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","folder"===r.type)}}function Le(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"newFolder")})),t.ɵɵelementStart(1,"mat-icon"),t.ɵɵtext(2,"create_new_folder"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}function je(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"newNode")})),t.ɵɵelementStart(1,"mat-icon"),t.ɵɵtext(2,"playlist_add"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}function He(e,n){if(1&e){var a=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"mat-tree-node",10),t.ɵɵlistener("dragstart",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDragStart(e,r)}))("dragover",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDragOver(e,r)}))("drop",(function(e){t.ɵɵrestoreView(a);var r=n.$implicit;return t.ɵɵnextContext().handleDrop(e,r)}))("dragend",(function(e){return t.ɵɵrestoreView(a),t.ɵɵnextContext().handleDragEnd(e)})),t.ɵɵelementStart(1,"button",11),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=n.$implicit;return t.ɵɵnextContext().expansionModel.toggle(e.id)})),t.ɵɵelementStart(2,"mat-icon",12),t.ɵɵtext(3),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"mat-icon",9),t.ɵɵtext(5," folder "),t.ɵɵelementEnd(),t.ɵɵtext(6),t.ɵɵtemplate(7,Le,3,0,"button",7),t.ɵɵtemplate(8,je,3,0,"button",7),t.ɵɵelementStart(9,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=n.$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"delete")})),t.ɵɵelementStart(10,"mat-icon"),t.ɵɵtext(11,"delete"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"button",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(a);var e=n.$implicit;return t.ɵɵnextContext().onButtonClicked(e.id,"edit")})),t.ɵɵelementStart(13,"mat-icon"),t.ɵɵtext(14,"edit"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction3(7,Ve,"above"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r,"below"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r,"center"===i.dragNodeExpandOverArea&&i.dragNodeExpandOverNode===r)),t.ɵɵadvance(1),t.ɵɵattribute("aria-label","toggle "+r.name),t.ɵɵadvance(2),t.ɵɵtextInterpolate1(" ",i.treeControl.isExpanded(r)?"expand_more":"chevron_right"," "),t.ɵɵadvance(1),t.ɵɵattribute("aria-label",r.type+"icon"),t.ɵɵadvance(2),t.ɵɵtextInterpolate1(" ",r.name," "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","folder"===r.type),t.ɵɵadvance(1),t.ɵɵproperty("ngIf","folder"===r.type)}}var $e=function(){},Ue=function(e,t,n,a,r){this.expandable=e,this.name=t,this.level=n,this.type=a,this.id=r},Je=function(){function e(){this.dataChange=new ne.BehaviorSubject([])}return Object.defineProperty(e.prototype,"data",{get:function(){return this.dataChange.value},enumerable:!1,configurable:!0}),e.prototype.initialize=function(e){var t=this.buildFileTree(e,0);this.dataChange.next(t)},e.prototype.buildFileTree=function(e,t,n){void 0===n&&(n="0");var a={};return e.forEach((function(e){var t=e;if(t.children=[],t.type=e.isFolder?"folder":"node",a[t.id]){var n=a[t.id].children;a[t.id]=t,a[t.id].children=n}else a[t.id]=t;var r=t.parent||"root";a[r]||(a[r]={children:[]}),a[r].children.push(t)})),a.root.type="folder",a.root.name="Root",a.root.isFolder=!0,a.root},e.prototype.deleteItem=function(e){this.deleteNode(this.data.children,e),this.dataChange.next(this.data)},e.prototype.deleteNode=function(e,t){var n=this,a=e.indexOf(t,0);a>-1?e.splice(a,1):e.forEach((function(e){e.children&&e.children.length>0&&n.deleteNode(e.children,t)}))},e.prototype.copyPasteItem=function(e,t){return this.insertItem(t,e)},e.prototype.copyPasteItemAbove=function(e,t){return this.insertItemAbove(t,e)},e.prototype.copyPasteItemBelow=function(e,t){return this.insertItemBelow(t,e)},e.prototype.insertItem=function(e,t){e.children||(e.children=[]);var n={name:t.name,children:t.children,type:t.type,id:t.id,active:t.active,cartographyId:t.cartographyId,cartographyName:t.cartographyName,datasetURL:t.datasetURL,description:t.description,filterGetFeatureInfo:t.filterGetFeatureInfo,filterGetMap:t.filterGetMap,filterSelectable:t.filterSelectable,isFolder:t.isFolder,metadataURL:t.metadataURL,order:t.order,parent:null==e.id?null:e.id,queryableActive:t.queryableActive,radio:t.radio,tooltip:t.tooltip,_links:t._links};return e.children.push(n),this.dataChange.next(this.data),n},e.prototype.insertItemAbove=function(e,t){var n=this.getParentFromNodes(e),a={name:t.name,children:t.children,type:t.type,id:t.id,active:t.active,cartographyId:t.cartographyId,cartographyName:t.cartographyName,datasetURL:t.datasetURL,description:t.description,filterGetFeatureInfo:t.filterGetFeatureInfo,filterGetMap:t.filterGetMap,filterSelectable:t.filterSelectable,isFolder:t.isFolder,metadataURL:t.metadataURL,order:t.order,parent:null==n.id?null:n.id,queryableActive:t.queryableActive,radio:t.radio,tooltip:t.tooltip,_links:t._links};return null!=n?n.children.splice(n.children.indexOf(e),0,a):this.data.children.splice(this.data.children.indexOf(e),0,a),this.dataChange.next(this.data),a},e.prototype.insertItemBelow=function(e,t){var n=this.getParentFromNodes(e),a={name:t.name,children:t.children,type:t.type,id:t.id,active:t.active,cartographyId:t.cartographyId,cartographyName:t.cartographyName,datasetURL:t.datasetURL,description:t.description,filterGetFeatureInfo:t.filterGetFeatureInfo,filterGetMap:t.filterGetMap,filterSelectable:t.filterSelectable,isFolder:t.isFolder,metadataURL:t.metadataURL,order:t.order,parent:null==n.id?null:n.id,queryableActive:t.queryableActive,radio:t.radio,tooltip:t.tooltip,_links:t._links};return null!=n?n.children.splice(n.children.indexOf(e)+1,0,a):this.data.children.splice(this.data.children.indexOf(e)+1,0,a),this.dataChange.next(this.data),a},e.prototype.getParentFromNodes=function(e){for(var t=0;t<this.data.children.length;++t){var n=this.data.children[t],a=this.getParent(n,e);if(null!=a)return a}return null},e.prototype.getParent=function(e,t){if(e.children&&e.children.length>0)for(var n=0;n<e.children.length;++n){var a=e.children[n];if(a===t)return e;if(a.children&&a.children.length>0){var r=this.getParent(a,t);if(null!=r)return r}}return null},e}();Je.ɵfac=function(e){return new(e||Je)},Je.ɵprov=t.ɵɵdefineInjectable({token:Je,factory:Je.ɵfac});var ze=function(){function e(e){var n=this;this.database=e,this.expansionModel=new ae.SelectionModel(!0),this.dragging=!1,this.expandDelay=1e3,this.validateDrop=!1,this.dragNodeExpandOverWaitTimeMs=1500,this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.transformer=function(e,t){var a=n.nestedNodeMap.get(e),r=a&&a.name===e.name?a:new Ue(e.children&&e.children.length>0,e.name,t,e.type,e.id);return n.flatNodeMap.set(r,e),n.nestedNodeMap.set(e,r),r},this._getLevel=function(e){return e.level},this._isExpandable=function(e){return e.expandable},this._getChildren=function(e){return ne.of(e.children)},this.hasChild=function(e,t){return t.expandable},this.emitNode=new t.EventEmitter,this.createNode=new t.EventEmitter,this.createFolder=new t.EventEmitter,this.emitAllNodes=new t.EventEmitter,this.treeFlattener=new Z.MatTreeFlattener(this.transformer,this._getLevel,this._isExpandable,this._getChildren),this.treeControl=new w.FlatTreeControl(this._getLevel,this._isExpandable),this.dataSource=new Z.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}return e.prototype.ngOnInit=function(){var e=this;this.eventNodeUpdatedSubscription&&this.eventNodeUpdatedSubscription.subscribe((function(t){e.updateNode(t)})),this.eventCreateNodeSubscription&&this.eventCreateNodeSubscription.subscribe((function(t){t.isFolder?e.createNewFolder(t):e.createNewNode(t)})),this.eventGetAllRowsSubscription&&(this._eventGetAllRowsSubscription=this.eventGetAllRowsSubscription.subscribe((function(){e.emitAllRows()}))),this.getAll().subscribe((function(t){e.treeData=t,e.database.initialize(e.treeData),e.database.dataChange.subscribe((function(t){return e.rebuildTreeForData([t])}))}))},e.prototype.visibleNodes=function(){var e=this,t=[];return this.dataSource.data.forEach((function(n){!function e(n,a){t.push(n),-1!=a.indexOf(n.id)&&n.children.map((function(t){return e(t,a)}))}(n,e.expansionModel.selected)})),t},e.prototype.findNodeSiblings=function(e,t){var n,a,r=this;return e.forEach((function(i,o){i.id===t?n=e:i.children&&(a=r.findNodeSiblings(i.children,t))&&(n=a)})),n},e.prototype.handleDragStart=function(e,t){e.dataTransfer.setData("foo","bar"),e.dataTransfer.setDragImage(this.emptyItem.nativeElement,0,0),this.dragNode=t,this.treeControl.collapse(t)},e.prototype.handleDragOver=function(e,t){e.preventDefault(),t===this.dragNodeExpandOverNode?this.dragNode===t||this.treeControl.isExpanded(t)||(new Date).getTime()-this.dragNodeExpandOverTime>this.dragNodeExpandOverWaitTimeMs&&this.treeControl.expand(t):(this.dragNodeExpandOverNode=t,this.dragNodeExpandOverTime=(new Date).getTime());e.offsetX,e.target.clientWidth;var n=e.offsetY/e.target.clientHeight;this.dragNodeExpandOverArea=n<.25?"above":n>.75?"below":"center"},e.prototype.handleDrop=function(e,t){if(e.preventDefault(),t!==this.dragNode){var n=void 0;n="above"===this.dragNodeExpandOverArea?this.database.copyPasteItemAbove(this.flatNodeMap.get(this.dragNode),this.flatNodeMap.get(t)):"below"===this.dragNodeExpandOverArea?this.database.copyPasteItemBelow(this.flatNodeMap.get(this.dragNode),this.flatNodeMap.get(t)):this.database.copyPasteItem(this.flatNodeMap.get(this.dragNode),this.flatNodeMap.get(t)),this.database.deleteItem(this.flatNodeMap.get(this.dragNode)),this.treeControl.expandDescendants(this.nestedNodeMap.get(n))}this.dragNode=null,this.dragNodeExpandOverNode=null,this.dragNodeExpandOverTime=0},e.prototype.handleDragEnd=function(e){this.dragNode=null,this.dragNodeExpandOverNode=null,this.dragNodeExpandOverTime=0},e.prototype.rebuildTreeForData=function(e){var t=this;this.dataSource.data=e,this.expansionModel.selected.forEach((function(e){var n=t.treeControl.dataNodes.find((function(t){return t.id===e}));t.treeControl.expand(n)}))},e.prototype.expandNodesById=function(e,t){var n=this;if(e&&0!==e.length){var a=new Set(t);return e.forEach((function(e){if(a.has(e.id)){n.treeControl.expand(e);for(var t=n.getParentNode(e);t;)n.treeControl.expand(t),t=n.getParentNode(t)}}))}},e.prototype.getParentNode=function(e){var t=e.level;if(t<1)return null;for(var n=this.treeControl.dataNodes.indexOf(e)-1;n>=0;n--){var a=this.treeControl.dataNodes[n];if(a.level<t)return a}return null},e.prototype.updateNode=function(e){var t=JSON.parse(JSON.stringify(this.dataSource.data)),n=this.findNodeSiblings(t,e.id),a=n.findIndex((function(t){return t.id===e.id}));n[a]=e,this.rebuildTreeForData(t)},e.prototype.createNewFolder=function(e){e.type="folder";var t=JSON.parse(JSON.stringify(this.dataSource.data));if(null===e.parent)t.push(e);else{var n=this.findNodeSiblings(t,e.parent),a=n.findIndex((function(t){return t.id===e.parent}));n[a].children.push(e)}this.rebuildTreeForData(t)},e.prototype.createNewNode=function(e){e.type="node";var t=JSON.parse(JSON.stringify(this.dataSource.data)),n=this.findNodeSiblings(t,e.parent),a=n.findIndex((function(t){return t.id===e.parent}));n[a].children.push(e),this.rebuildTreeForData(t)},e.prototype.onButtonClicked=function(e,t){var n=JSON.parse(JSON.stringify(this.dataSource.data)),a=this.findNodeSiblings(n,e).find((function(t){return t.id===e}));if("edit"===t)this.emitNode.emit(a);else if("newFolder"===t)this.createFolder.emit(a);else if("newNode"===t)this.createNode.emit(a);else if("delete"===t){var r=this.getAllChildren(a.children);r.forEach((function(e){e.status="Deleted"})),a.children=r,a.status="Deleted",this.rebuildTreeForData(n)}},e.prototype.emitAllRows=function(){var e=JSON.parse(JSON.stringify(this.dataSource.data)),t=this.getAllChildren(e);this.emitAllNodes.emit(t)},e.prototype.getAllChildren=function(e){var t,n=this,a=[];return e.forEach((function(e,r){e.children.length>0&&(t=n.getAllChildren(e.children))&&a.push.apply(a,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(de(arguments[t]));return e}(t)),a.push(e)})),a},e}();function We(e){return new te.TranslateHttpLoader(e,"../assets/i18n/",".json")}ze.ɵfac=function(e){return new(e||ze)(t.ɵɵdirectiveInject(Je))},ze.ɵcmp=t.ɵɵdefineComponent({type:ze,selectors:[["app-data-tree"]],viewQuery:function(e,n){var a;(1&e&&t.ɵɵviewQuery(Te,!0),2&e)&&(t.ɵɵqueryRefresh(a=t.ɵɵloadQuery())&&(n.emptyItem=a.first))},inputs:{eventNodeUpdatedSubscription:"eventNodeUpdatedSubscription",eventCreateNodeSubscription:"eventCreateNodeSubscription",eventGetAllRowsSubscription:"eventGetAllRowsSubscription",getAll:"getAll"},outputs:{createNode:"createNode",createFolder:"createFolder",emitNode:"emitNode",emitAllNodes:"emitAllNodes"},features:[t.ɵɵProvidersFeature([Je])],decls:5,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodeToggle","","matTreeNodePadding","","draggable","true",3,"ngClass","dragstart","dragover","drop","dragend",4,"matTreeNodeDef"],["matTreeNodePadding","","draggable","true",3,"ngClass","dragstart","dragover","drop","dragend",4,"matTreeNodeDef","matTreeNodeDefWhen"],["emptyItem",""],["matTreeNodeToggle","","matTreeNodePadding","","draggable","true",3,"ngClass","dragstart","dragover","drop","dragend"],["mat-icon-button","","disabled",""],["class","type-icon",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"type-icon"],["matTreeNodePadding","","draggable","true",3,"ngClass","dragstart","dragover","drop","dragend"],["mat-icon-button","","matTreeNodeToggle","",3,"click"],[1,"mat-icon-rtl-mirror"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"mat-tree",0),t.ɵɵtemplate(1,qe,12,9,"mat-tree-node",1),t.ɵɵtemplate(2,He,15,11,"mat-tree-node",2),t.ɵɵelementEnd(),t.ɵɵelement(3,"span",null,3)),2&e&&(t.ɵɵproperty("dataSource",n.dataSource)("treeControl",n.treeControl),t.ɵɵadvance(2),t.ɵɵproperty("matTreeNodeDefWhen",n.hasChild))},directives:[Z.MatTree,Z.MatTreeNodeDef,Z.MatTreeNode,Z.MatTreeNodeToggle,Z.MatTreeNodePadding,s.NgClass,a.MatButton,s.NgIf,r.MatIcon],styles:[".mat-tree-node[_ngcontent-%COMP%]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:move;user-select:none}.mat-tree-node.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-tree-node.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(0,0,.2,1)}.drop-above[_ngcontent-%COMP%]{border-top:10px solid #ddd;margin-top:-10px}.drop-below[_ngcontent-%COMP%]{border-bottom:10px solid #ddd;margin-bottom:-10px}.drop-center[_ngcontent-%COMP%]{background-color:#ddd}"]}),s.registerLocaleData(ie.default,"ca"),s.registerLocaleData(oe.default,"es");var Qe=function(){};Qe.ɵmod=t.ɵɵdefineNgModule({type:Qe}),Qe.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||Qe)},providers:[],imports:[[m.RouterModule,p.HttpClientModule,s.CommonModule,o.FormsModule,g.NoopAnimationsModule,h.AngularHalModule,o.ReactiveFormsModule,g.BrowserAnimationsModule,c.AgGridModule.withComponents([]),h.SitmunFrontendCoreModule,De,l.TranslateModule.forRoot({loader:{provide:l.TranslateLoader,useFactory:We,deps:[p.HttpClient]}})],p.HttpClientModule,s.CommonModule,o.FormsModule,g.NoopAnimationsModule,h.AngularHalModule,l.TranslateModule,o.ReactiveFormsModule,h.SitmunFrontendCoreModule]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(Qe,{declarations:[Ae,ze,se,ue,pe,Be,Fe,ge],imports:[m.RouterModule,p.HttpClientModule,s.CommonModule,o.FormsModule,g.NoopAnimationsModule,h.AngularHalModule,o.ReactiveFormsModule,g.BrowserAnimationsModule,c.AgGridModule,h.SitmunFrontendCoreModule,De,l.TranslateModule],exports:[p.HttpClientModule,s.CommonModule,o.FormsModule,g.NoopAnimationsModule,h.AngularHalModule,l.TranslateModule,o.ReactiveFormsModule,Ae,ze,Be,Fe,ge,h.SitmunFrontendCoreModule]}),e.BtnCheckboxFilterComponent=pe,e.BtnCheckboxRenderedComponent=ue,e.BtnEditRenderedComponent=se,e.DataGridComponent=Ae,e.DataTreeComponent=ze,e.DialogFormComponent=Fe,e.DialogGridComponent=Be,e.DialogMessageComponent=ge,e.FileDatabase=Je,e.FileFlatNode=Ue,e.FileNode=$e,e.SitmunFrontendGuiModule=Qe,e.createTranslateLoader=We,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sitmun-frontend-gui.umd.min.js.map